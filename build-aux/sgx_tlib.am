## Intel SGX SDK

SGXSDK=@SGXSDK@
SGXSDK_BINDIR=@SGXSDK_BINDIR@
SGXSDK_INCDIR=@SGXSDK_INCDIR@
SGXSDK_LIBDIR=@SGXSDK_LIBDIR@
SGX_EDGER8R=$(SGXSDK_BINDIR)/sgx_edger8r

## Intel SGX SSL

SGXSSL=@SGXSSL@
SGXSSL_BINDIR=@SGXSSL_BINDIR@
SGXSSL_INCDIR=@SGXSSL_INCDIR@
SGXSSL_LIBDIR=@SGXSSL_LIBDIR@

AM_CFLAGS=
AM_CPPFLAGS=
AM_CXXFLAGS=

## Flags required when compiling a trusted library.

if SGX_WITH_SGXSDK
AM_CFLAGS+=@SGX_TLIB_CFLAGS@
AM_CPPFLAGS+=@SGX_TLIB_CPPFLAGS@
AM_CXXFLAGS+=@SGX_TLIB_CXXFLAGS@

## Rule to make trusted proxy functions from an EDL file.

%_t.h %_t.c: %.edl
	$(SGX_EDGER8R) --search-path $(SGXSDK_INCDIR) $(SGX_EDGER8R_FLAGS) --trusted $<

endif

if SGX_WITH_OPENENCLAVE
AM_CFLAGS+=@OE_TLIB_CFLAGS@
AM_CPPFLAGS+=@OE_TLIB_CPPFLAGS@
AM_CXXFLAGS+=@OE_TLIB_CXXFLAGS@
endif
